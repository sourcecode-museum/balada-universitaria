


CREATE TABLE BANDEIRA
(
  COD_BANDEIRA  NUMBER(5),
  NOME_BANEIRA  VARCHAR2(30)
)
LOGGING 
NOCACHE
NOPARALLEL;


CREATE TABLE CARTÃO_BANDEIRA
(
  COD_ESTABELECIMENTO  NUMBER(5),
  COD_BANDEIRA         NUMBER(5)
)
LOGGING 
NOCACHE
NOPARALLEL;


CREATE TABLE CATEGORA
(
  COD_CATEGORIA   NUMBER(5),
  NOME_CATEGORIA  VARCHAR2(30)
)
LOGGING 
NOCACHE
NOPARALLEL;


CREATE TABLE ESTABELECIMENTO
(
  COD_ESTABELECIMENTO  NUMBER(5),
  NOME_FANTASIA        VARCHAR2(150),
  RAZAO_SOCIAL         VARCHAR2(150),
  CNPF                 NUMBER(12),
  ENDERECO             VARCHAR2(150),
  BAIRRO               VARCHAR2(100),
  UF                   VARCHAR2(2),
  TELEFONE             VARCHAR2(15),
  COD_AREA             NUMBER(5)
)
LOGGING 
NOCACHE
NOPARALLEL;


CREATE TABLE EVENTO_PROMOCAO
(
  COD_EVENTO_PROMOCAO  NUMBER(5),
  COD_ESTABELECIMENTO  NUMBER(5),
  TIPO                 VARCHAR2(30),
  NOME                 VARCHAR2(100),
  DATA_INICIO          DATE,
  DESCRICAO            VARCHAR2(500)
)
LOGGING 
NOCACHE
NOPARALLEL;


CREATE TABLE FOTO
(
  COD_EVENTO         NUMBER(5),
  NOME               VARCHAR2(50),
  TIPO_FOTO          VARCHAR2(30),
  LOCAL_FILE_SYSTEM  VARCHAR2(100)
)
LOGGING 
NOCACHE
NOPARALLEL;


CREATE TABLE MUSICA
(
  NOME           VARCHAR2(50),
  ARTISTA        VARCHAR2(50),
  ALBUM          VARCHAR2(30),
  COD_CATEGORIA  NUMBER(5),
  COD_MUSICA     NUMBER(5)
)
LOGGING 
NOCACHE
NOPARALLEL;


CREATE TABLE UNIDADE_FEDERATIVA
(
  UF      VARCHAR2(2),
  ESTADO  VARCHAR2(30),
  REGIAO  VARCHAR2(30)
)
LOGGING 
NOCACHE
NOPARALLEL;


CREATE TABLE USUARIO
(
  EMAIL             VARCHAR2(50),
  NOME              VARCHAR2(50),
  SENHA             VARCHAR2(12),
  DT_NASCIMENTO     DATE,
  RG                NUMBER(15),
  SEXO              CHAR(1),
  ENDERECO          VARCHAR2(70),
  CEP               NCHAR(9),
  CIDADADE          VARCHAR2(50),
  TELEFONE          VARCHAR2(15),
  COD_AREA          NUMBER(3),
  DT_ULTIMO_ACESSO  DATE,
  UF                VARCHAR2(2)
)
LOGGING 
NOCACHE
NOPARALLEL;


CREATE UNIQUE INDEX PK_BANDEIRA ON BANDEIRA
(COD_BANDEIRA)
LOGGING
NOPARALLEL;


CREATE UNIQUE INDEX PK_CARTÃO_BANDEIRA ON CARTÃO_BANDEIRA
(COD_ESTABELECIMENTO, COD_BANDEIRA)
LOGGING
NOPARALLEL;


CREATE UNIQUE INDEX PK_CATEGORA ON CATEGORA
(COD_CATEGORIA)
LOGGING
NOPARALLEL;


CREATE UNIQUE INDEX PK_ESTABELECIMENTO ON ESTABELECIMENTO
(COD_ESTABELECIMENTO)
LOGGING
NOPARALLEL;


CREATE UNIQUE INDEX PK_EVENTO_PROMOCAO ON EVENTO_PROMOCAO
(COD_EVENTO_PROMOCAO)
LOGGING
NOPARALLEL;


CREATE UNIQUE INDEX PK_FOTO ON FOTO
(COD_EVENTO, NOME)
LOGGING
NOPARALLEL;


CREATE UNIQUE INDEX PK_MUSICA ON MUSICA
(COD_MUSICA)
LOGGING
NOPARALLEL;


CREATE UNIQUE INDEX PK_UNIDADE_FEDERATIVA ON UNIDADE_FEDERATIVA
(UF)
LOGGING
NOPARALLEL;


CREATE UNIQUE INDEX PK_USUARIO ON USUARIO
(EMAIL)
LOGGING
NOPARALLEL;


ALTER TABLE BANDEIRA ADD (
  CONSTRAINT PK_BANDEIRA PRIMARY KEY (COD_BANDEIRA));

ALTER TABLE CARTÃO_BANDEIRA ADD (
  CONSTRAINT PK_CARTÃO_BANDEIRA PRIMARY KEY (COD_ESTABELECIMENTO, COD_BANDEIRA));

ALTER TABLE CATEGORA ADD (
  CONSTRAINT PK_CATEGORA PRIMARY KEY (COD_CATEGORIA));

ALTER TABLE ESTABELECIMENTO ADD (
  CONSTRAINT PK_ESTABELECIMENTO PRIMARY KEY (COD_ESTABELECIMENTO));

ALTER TABLE EVENTO_PROMOCAO ADD (
  CONSTRAINT PK_EVENTO_PROMOCAO PRIMARY KEY (COD_EVENTO_PROMOCAO));

ALTER TABLE FOTO ADD (
  CONSTRAINT PK_FOTO PRIMARY KEY (COD_EVENTO, NOME));

ALTER TABLE MUSICA ADD (
  CONSTRAINT PK_MUSICA PRIMARY KEY (COD_MUSICA));

ALTER TABLE UNIDADE_FEDERATIVA ADD (
  CONSTRAINT PK_UNIDADE_FEDERATIVA PRIMARY KEY (UF));

ALTER TABLE USUARIO ADD (
  CONSTRAINT PK_USUARIO PRIMARY KEY (EMAIL));

ALTER TABLE CARTÃO_BANDEIRA ADD (
  CONSTRAINT FK_COD_BANDEIRA FOREIGN KEY (COD_BANDEIRA) 
    REFERENCES BANDEIRA (COD_BANDEIRA),
  CONSTRAINT FK_ESTABE FOREIGN KEY (COD_ESTABELECIMENTO) 
    REFERENCES ESTABELECIMENTO (COD_ESTABELECIMENTO));

ALTER TABLE ESTABELECIMENTO ADD (
  CONSTRAINT FK_UF_ESTABELECIMENTO FOREIGN KEY (UF) 
    REFERENCES UNIDADE_FEDERATIVA (UF));

ALTER TABLE EVENTO_PROMOCAO ADD (
  CONSTRAINT FK_ESTABELECIMENTO FOREIGN KEY (COD_ESTABELECIMENTO) 
    REFERENCES ESTABELECIMENTO (COD_ESTABELECIMENTO));

ALTER TABLE FOTO ADD (
  CONSTRAINT FK_EVENTO_PROMOCAO FOREIGN KEY (COD_EVENTO) 
    REFERENCES EVENTO_PROMOCAO (COD_EVENTO_PROMOCAO));

ALTER TABLE MUSICA ADD (
  CONSTRAINT FK_CATEGORIA FOREIGN KEY (COD_CATEGORIA) 
    REFERENCES CATEGORA (COD_CATEGORIA));

ALTER TABLE USUARIO ADD (
  CONSTRAINT FK_UF FOREIGN KEY (UF) 
    REFERENCES UNIDADE_FEDERATIVA (UF));

